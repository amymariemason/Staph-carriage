Run by AMM on 28 Oct 2016 16:35:20
 starting with 13835 records from 1377 paticipants





================================================================================
(2) DROP NON-NASAL/ NON-GP RECRUITMENT PEOPLE
================================================================================

                   StudyGroup |      Freq.     Percent        Cum.
------------------------------+-----------------------------------
                        C3 GP |     11,133       80.47       80.47
              D1a MAU disease |         87        0.63       81.10
                  D1b Surgery |        657        4.75       85.85
              D2 Sterile site |        704        5.09       90.94
D3a Skin and soft tissue (GP) |         41        0.30       91.23
                    Multisite |      1,158        8.37       99.60
                      Vaccine |         55        0.40      100.00
------------------------------+-----------------------------------
                        Total |     13,835      100.00
drop 2702 records where either not from nose, or from hospital recuitement
 - leaving 11133 records from 1123 paticipants





================================================================================
(3)REMOVE SWABS NOT RETURNED
================================================================================

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
        flag |        723           1           0          1          1
723 swabs where no result entered on system

                spa type |      Freq.     Percent        Cum.
-------------------------+-----------------------------------
                         |        721       99.72       99.72
                    t032 |          1        0.14       99.86
                    t189 |          1        0.14      100.00
-------------------------+-----------------------------------
                   Total |        723      100.00

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
        flag |          2           1           0          1          1
2 missing result but have a spatype -> must have been returned, so keep

           |       DateTaken
  Received | 15jul2014          . |     Total
-----------+----------------------+----------
 20may2013 |         0          1 |         1 
 13may2014 |         0          1 |         1 
 01jul2014 |         0          1 |         1 
 16sep2014 |         0          1 |         1 
         . |         1        716 |       717 
-----------+----------------------+----------
     Total |         1        720 |       721 


    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
        flag |          5           1           0          1          1
5 missing result but have a received or taken date -> must have been returned, so keep
716 drop swabs where no result, return date, taken date OR spatype entered on system - not returned by partipant





================================================================================
(3) DROP SINGLE SWAB ONLY PEOPLE
================================================================================

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
        flag |        577           1           0          1          1
drop 577 participants who only returned single swab
 - leaving 9840 records from 546 paticipants





================================================================================
(4) DROP TIMEPOINT 0 in 2015 Swabs
================================================================================

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
        flag |         59           1           0          1          1
drop 59 swabs  -  additional check swab in 2014 (not spa-typed)
 - leaving 9781 records from 546 paticipants





================================================================================
(5) EVALUATE DUBIOUS BEST DATES
================================================================================

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
        flag |        153           1           0          1          1
153 disputed dates  - no chronological order of Sent, Taken, Received

      +------------------------------------------------------+
      | patid   timepo~t        Sent   DateTaken    Received |
      |------------------------------------------------------|
  15. |     9          2   26feb2009   04feb2009   11mar2009 |
      |------------------------------------------------------|
  61. |    10         44   28aug2012   04sep2012   10aug2012 |
      |------------------------------------------------------|
 112. |    16         42   03jul2012   05jan2012   10jul2012 |
      |------------------------------------------------------|
 342. |    51          1   12feb2009   06feb2009   19feb2009 |
      |------------------------------------------------------|
 429. |    60         22   19nov2010   02nov2010   13dec2010 |
      |------------------------------------------------------|
 538. |    97         14   09apr2010   20sep2010   26apr2010 |
      |------------------------------------------------------|
 550. |   102         16   24aug2010   22aug2010   24aug2010 |
      |------------------------------------------------------|
 604. |   110         46   13dec2012   17dec2012   07jan2012 |
      |------------------------------------------------------|
 811. |   138          2   17apr2009   25may2009   05may2009 |
      |------------------------------------------------------|
1107. |   177         44   23oct2012   01oct2012   08nov2012 |
      |------------------------------------------------------|
1248. |   302         86   07apr2016   03apr2016   11apr2016 |
      |------------------------------------------------------|
1379. |   332         16   08jul2010   18jul2010   13jul2010 |
1382. |   332         22   05jan2011   19jan2011   18jan2011 |
1392. |   332         42   04sep2012   07jul2012   12sep2012 |
      |------------------------------------------------------|
1576. |   366         80   07apr2016   04apr2016   11apr2016 |
      |------------------------------------------------------|
1593. |   369         26   25may2011   28jun2011   06jun2011 |
      |------------------------------------------------------|
1764. |   407         32   06dec2011   19dec2012   16jan2012 |
1773. |   407         58   16sep2014   11sep2014   17sep2014 |
1780. |   407         76   07apr2016   02apr2016   11apr2016 |
      |------------------------------------------------------|
1787. |   412          6   15oct2009   07oct2009   29oct2009 |
1793. |   412         18   13oct2010   16sep2010   18oct2010 |
1809. |   412         62   23jun2014   07aug2014   14jul2014 |
1817. |   412         78   06oct2015   15sep2015   26oct2015 |
1820. |   412         84   07apr2016   02apr2016   10may2016 |
      |------------------------------------------------------|
1824. |   416          2   18jun2009   15jun2009   30jun2009 |
      |------------------------------------------------------|
1883. |   418         84   07apr2016   02apr2016   11apr2016 |
      |------------------------------------------------------|
1901. |   420         28   18aug2011   22nov2011   24aug2011 |
      |------------------------------------------------------|
1949. |   424         46   20feb2013   22mar2013   05mar2013 |
1953. |   424         68   15dec2014   19dec2014   05jan2014 |
1961. |   424         84   07apr2016   02apr2016   11apr2016 |
      |------------------------------------------------------|
2046. |   445         10   02mar2010   04feb2010   08mar2010 |
      |------------------------------------------------------|
2119. |   450         32   04feb2012   09jan2012   11jan2012 |
2135. |   450         78   30oct2015   24oct2015   03nov2015 |
2136. |   450         80   07jan2016   02jan2016   25jan2016 |
      |------------------------------------------------------|
2159. |   451         32   04feb2012   09jan2012   11jan2012 |
      |------------------------------------------------------|
2188. |   454         32   04feb2012   06jan2012   10jan2012 |
2206. |   454         78   30oct2015   26oct2015   02nov2015 |
2207. |   454         80   07jan2016   04jan2016   01feb2016 |
      |------------------------------------------------------|
2226. |   457         30   08nov2011   07nov2011   15nov2011 |
      |------------------------------------------------------|
2282. |   471          1   26jun2009   24jun2009   13jul2009 |
      |------------------------------------------------------|
2348. |   479          6   25nov2009   27nov2010   11jan2010 |
      |------------------------------------------------------|
2581. |   620          4   14aug2009   01jan2009   07sep2009 |
      |------------------------------------------------------|
2628. |   631         14   16jun2010   14jun2010   21jun2010 |
      |------------------------------------------------------|
2804. |   678          1   18jun2009   23jan2009   29jun2009 |
      |------------------------------------------------------|
2843. |   686         12   20may2010   08may2010   02jun2010 |
      |------------------------------------------------------|
2851. |   688          1   09jul2009   01sep2009   05aug2009 |
      |------------------------------------------------------|
2897. |   698          1   17jul2009   16jul2009   29jul2009 |
      |------------------------------------------------------|
3049. |   739          2   03sep2009   07jul2009   09sep2009 |
      |------------------------------------------------------|
3140. |   770          8   02mar2010   04feb2010   08mar2010 |
      |------------------------------------------------------|
3655. |   993         58   18jun2014   17jun2014   23jun2014 |
      |------------------------------------------------------|
3686. |  1000          4   11jan2010   04jan2010   11jan2010 |
3692. |  1000         14   22sep2010   24aug2010   28sep2010 |
      |------------------------------------------------------|
3716. |  1005          6   22jan2010   07jan2010   08feb2010 |
      |------------------------------------------------------|
3765. |  1024         48   05aug2013   03aug2013   14aug2013 |
      |------------------------------------------------------|
3825. |  1045          6   04feb2010   08jan2010   09feb2010 |
      |------------------------------------------------------|
4027. |  1083         10   23jun2010   29jul2010   05jul2010 |
      |------------------------------------------------------|
4116. |  1100          4   15dec2009   07dec2009   21dec2009 |
      |------------------------------------------------------|
4171. |  1204         30   14mar2012   07mar2012   21mar2012 |
      |------------------------------------------------------|
4247. |  1209         28   17jan2012   25feb2012   31jan2012 |
      |------------------------------------------------------|
4320. |  1212         56   08jul2014   10jul2014   09jul2014 |
      |------------------------------------------------------|
4423. |  1215         56   18jun2014   12jun2014   17jun2014 |
4428. |  1215         68   14may2015   18jun2015   02jun2015 |
      |------------------------------------------------------|
4528. |  1218         58   24jul2014   23jul2013   28jul2014 |
4538. |  1218         78   07apr2016   03apr2016   11apr2016 |
      |------------------------------------------------------|
4575. |  1219         78   07apr2016   04apr2016   11apr2016 |
      |------------------------------------------------------|
4689. |  1223         78   07apr2016   03apr2016   11apr2016 |
      |------------------------------------------------------|
4863. |  1229         78   07apr2016   04apr2016   11apr2016 |
      |------------------------------------------------------|
4906. |  1231         62   09jun2015   08jun2015   16jun2015 |
4911. |  1231         72   07apr2016   04apr2016   11apr2016 |
      |------------------------------------------------------|
5235. |  1244         64   19jan2015           .   03feb2014 |
      |------------------------------------------------------|
5370. |  1249          6   25mar2010   23mar2010   31mar2010 |
      |------------------------------------------------------|
5437. |  1251         36   18sep2012   22aug2012   26sep2012 |
5452. |  1251         72   21sep2015   19sep2015   13oct2015 |
      |------------------------------------------------------|
5530. |  1254         38   29nov2012   03jan2012   11dec2012 |
      |------------------------------------------------------|
5553. |  1255         32   22may2012   24mar2012   29may2012 |
      |------------------------------------------------------|
5634. |  1259         38   29nov2012   07dec2012   11nov2012 |
      |------------------------------------------------------|
6025. |  1281         58   18sep2014   17sep2014   23sep2014 |
      |------------------------------------------------------|
6083. |  1284         34   14aug2012   06aug2012   12sep2012 |
      |------------------------------------------------------|
6188. |  1288         42   10apr2013           .   04mar2013 |
      |------------------------------------------------------|
6244. |  1291         38   20dec2012   24dec2012   08jan2012 |
      |------------------------------------------------------|
6286. |  1294         14   22dec2010   08dec2011   12jan2011 |
      |------------------------------------------------------|
6489. |  1303         40   20feb2013   22jan2013   05mar2013 |
6491. |  1303         44   04jul2013   28jun2013   04jul2013 |
      |------------------------------------------------------|
6515. |  1305         12   27oct2010   22oct2010   08nov2010 |
6527. |  1305         40   20feb2013   26mar2013   11mar2013 |
6529. |  1305         44   04jul2013   17jun2013   15jul2013 |
      |------------------------------------------------------|
6569. |  1307         42   16apr2013   25apr2013   05apr2013 |
6570. |  1307         44   04jul2013   01jul2013   10jul2013 |
6576. |  1307         66   09jun2015   08jun2015   16jun2015 |
      |------------------------------------------------------|
6593. |  1308         22   23aug2011   22aug2011   31oct2011 |
      |------------------------------------------------------|
6614. |  1309         38   31dec2013   29mar2013   11mar2013 |
6617. |  1309         44   04jul2013   29jun2013   04jul2013 |
      |------------------------------------------------------|
6641. |  1311         26   04feb2012   06jan2012   10jan2012 |
      |------------------------------------------------------|
6667. |  1312         26   04feb2012   09jan2012   12jan2012 |
6672. |  1312         36   31oct2012   06may2012   13nov2012 |
      |------------------------------------------------------|
6745. |  1315         26   04feb2012   10jan2012   16jan2012 |
      |------------------------------------------------------|
6771. |  1316         26   04jan2012   03jan2012   16jan2012 |
6783. |  1316         56   24jul2014   18jul2014   22jul2014 |
6791. |  1316         72   30oct2015   26oct2015   17nov2015 |
6792. |  1316         74   07jan2016   01jan2016   01feb2016 |
      |------------------------------------------------------|
6801. |  1317          6   06may2010   09apr2010   11may2010 |
      |------------------------------------------------------|
6830. |  1318         36   31oct2012   12nov2012   08nov2012 |
      |------------------------------------------------------|
6853. |  1320         26   04feb2012   10jan2012   16jan2012 |
      |------------------------------------------------------|
6931. |  1324         46   02sep2013   10oct2013   17sep2013 |
      |------------------------------------------------------|
7016. |  1328         54   05aug2014   31jul2014   05aug2014 |
7021. |  1328         68   06oct2015   02oct2015   17nov2015 |
      |------------------------------------------------------|
7114. |  1331         72   30oct2015   25oct2015   03nov2015 |
7115. |  1331         74   07jan2016   03jan2016   01feb2016 |
      |------------------------------------------------------|
7147. |  1332         62   05jan2015   09jan2014   13jan2015 |
7152. |  1332         72   30oct2015   25oct2015   02nov2015 |
7153. |  1332         74   07jan2016   03jan2016   25jan2016 |
      |------------------------------------------------------|
7205. |  1336         10   01sep2010   03aug2010   07sep2010 |
      |------------------------------------------------------|
7274. |  1338         74   07jan2016   02jan2016   25jan2016 |
      |------------------------------------------------------|
7355. |  1343         40   16mar2013   15mar2013   21mar2013 |
      |------------------------------------------------------|
7458. |  1349         38   09jan2013   11nov2013   17jan2013 |
      |------------------------------------------------------|
7466. |  1350          4   12mar2010   21apr2010   06apr2010 |
      |------------------------------------------------------|
7526. |  1354         34   11sep2012   30aug2012   17sep2012 |
7530. |  1354         42   15may2013   09may2013   20may2013 |
      |------------------------------------------------------|
7560. |  1356          8   16jul2010   19apr2010   22jul2010 |
      |------------------------------------------------------|
7660. |  1362         14   19jan2011   17jan2011   01feb2011 |
      |------------------------------------------------------|
7760. |  1369          2   22jan2010   20jan2010   08feb2010 |
      |------------------------------------------------------|
7840. |  1372         30   15may2012   03may2012   06jun2012 |
7846. |  1372         42   15may2013   03may2013   03jun2013 |
      |------------------------------------------------------|
7888. |  1374         22   20sep2011   16sep2011   20sep2011 |
      |------------------------------------------------------|
7920. |  1375         54   25jun2014   25jun2013   09jul2014 |
      |------------------------------------------------------|
7981. |  1377         40   21mar2013   07jan2013   16apr2013 |
      |------------------------------------------------------|
8084. |  1382         64   09apr2015   11mar2015   15apr2015 |
8085. |  1382         66   09jun2015   08jun2015   16jun2015 |
      |------------------------------------------------------|
8113. |  1383         38   25jan2013   18feb2013   11feb2013 |
      |------------------------------------------------------|
8168. |  1385         74   21jan2016   26dec2015   08feb2016 |
      |------------------------------------------------------|
8207. |  1386         74   21jan2016   29dec2015   08feb2016 |
      |------------------------------------------------------|
8216. |  1387          8   22jul2010   10jul2010   16aug2010 |
      |------------------------------------------------------|
8324. |  1392         70   21sep2015   19sep2015   06oct2015 |
      |------------------------------------------------------|
8346. |  1393         34   26sep2012   28aug2012   04oct2012 |
      |------------------------------------------------------|
8446. |  1400         34   26sep2012   01aug2012   08oct2012 |
8453. |  1400         60   24nov2014   27dec2014   03dec2014 |
8458. |  1400         70   21sep2015   20sep2015   13oct2015 |
      |------------------------------------------------------|
8608. |  2013          4   05feb2010   28mar2010   03mar2010 |
      |------------------------------------------------------|
8908. |  2037         38   29nov2012   27nov2012   05dec2012 |
8911. |  2037         44   30may2013   03may2013   11jun2013 |
8912. |  2037         46   05aug2013   03aug2013   14aug2013 |
      |------------------------------------------------------|
8953. |  2043          4   05feb2010   09jan2010   17feb2010 |
8963. |  2043         26   30nov2011   14jan2011   24jan2012 |
      |------------------------------------------------------|
9048. |  2051         16   09feb2011   08feb2011   14feb2011 |
      |------------------------------------------------------|
9101. |  2055         42   04may2013   14apr2013   29apr2013 |
9105. |  2055         58   25sep2014   23sep2014   01oct2014 |
      |------------------------------------------------------|
9123. |  2056         16   09feb2011   08feb2011   14feb2011 |
      |------------------------------------------------------|
9155. |  2059         16   09feb2011   08feb2011   14feb2011 |
      |------------------------------------------------------|
9229. |  2066         26   30nov2011   26feb2012   01mar2011 |
      |------------------------------------------------------|
9282. |  2071         16   09feb2011   06feb2011   08feb2011 |
      |------------------------------------------------------|
9406. |  2082         48   04oct2013   08sep2013   14oct2013 |
      |------------------------------------------------------|
9432. |  2083         58   15sep2014   13sep2014   17sep2014 |
      |------------------------------------------------------|
9686. |  2107         16   09feb2011   06feb2011   14feb2011 |
      +------------------------------------------------------+
143 have a pair of dates in the correct order, within 30 days of each other.
If DateTaken is part of the optimal pair, keep BestDate as Date taken.
10do not have pair in correct order
126 disordered date swabs with Sent/Recieved best pair, replace with Recieved)
10disordered dates still remaining

      +---------------------------------------------------------------------------------------+
      | patid   timepo~t        Sent   DateTaken    Received   Diff_S_T   Diff_T_R   Diff_S_R |
      |---------------------------------------------------------------------------------------|
1764. |   407         32   06dec2011   19dec2012   16jan2012        379          .         41 |
      |---------------------------------------------------------------------------------------|
1820. |   412         84   07apr2016   02apr2016   10may2016          .         38         33 |
      |---------------------------------------------------------------------------------------|
2348. |   479          6   25nov2009   27nov2010   11jan2010        367          .         47 |
      |---------------------------------------------------------------------------------------|
5235. |  1244         64   19jan2015           .   03feb2014          .          .          . |
      |---------------------------------------------------------------------------------------|
6188. |  1288         42   10apr2013           .   04mar2013          .          .          . |
      |---------------------------------------------------------------------------------------|
6593. |  1308         22   23aug2011   22aug2011   31oct2011          .         70         69 |
      |---------------------------------------------------------------------------------------|
6614. |  1309         38   31dec2013   29mar2013   11mar2013          .          .          . |
      |---------------------------------------------------------------------------------------|
7021. |  1328         68   06oct2015   02oct2015   17nov2015          .         46         42 |
      |---------------------------------------------------------------------------------------|
8963. |  2043         26   30nov2011   14jan2011   24jan2012          .        375         55 |
      |---------------------------------------------------------------------------------------|
9229. |  2066         26   30nov2011   26feb2012   01mar2011         88          .          . |
      +---------------------------------------------------------------------------------------+

      +----------------------------------------------------------------------------------+
      | SwabID   patid   timepo~t        Sent   DateTaken    Received   flag    BestDate |
      |----------------------------------------------------------------------------------|
1747. |    440     407          0   16apr2009           .   16apr2009      .   16apr2009 |
1748. |    547     407          1   08may2009   11may2009   18may2009      .   11may2009 |
1749. |    720     407          2   11jun2009   24jun2009   29jun2009      .   24jun2009 |
1750. |   1220     407          4   14aug2009           .   24aug2009      .   24aug2009 |
1751. |   1596     407          6   06oct2009   07nov2009   11nov2009      .   07nov2009 |
1752. |   2589     407          8   09dec2009           .   15dec2009      .   15dec2009 |
1753. |   3211     407         10   12feb2010   21feb2010   01mar2010      .   21feb2010 |
1754. |   3653     407         12   09apr2010   28apr2010   04may2010      .   28apr2010 |
1755. |   4358     407         14   11jun2010   06jul2010   12jul2010      .   06jul2010 |
1756. |   4953     407         16   11aug2010   19aug2010   31aug2010      .   19aug2010 |
1757. |   5518     407         18   06oct2010   10oct2010   12oct2010      .   10oct2010 |
1758. |   6145     407         20   07dec2010   13dec2010   20dec2010      .   13dec2010 |
1759. |   6745     407         22   08feb2011   11feb2011   16feb2011      .   11feb2011 |
1760. |   7298     407         24   06apr2011   15apr2011   19apr2011      .   15apr2011 |
1761. |   7882     407         26   08jun2011   23jun2011   27jun2011      .   23jun2011 |
1762. |   8453     407         28   10aug2011   12aug2011   16aug2011      .   12aug2011 |
1763. |   8955     407         30   11oct2011   14oct2011   18oct2011      .   14oct2011 |
1764. |   9880     407         32   06dec2011   19dec2012   16jan2012      1   19dec2012 |
1765. |  10861     407         34   07feb2012   16feb2012   20feb2012      .   16feb2012 |
1766. |  11202     407         36   11apr2012           .   22may2012      .   22may2012 |
1767. |  11544     407         38   14jun2012   19jun2012   25jun2012      .   19jun2012 |
1768. |  11849     407         40   07aug2012   21aug2012   29aug2012      .   21aug2012 |
1769. |  12150     407         42   11oct2012   22oct2012   29oct2012      .   22oct2012 |
1770. |  12457     407         44   13dec2012   20dec2012   07jan2013      .   20dec2012 |
1771. |  12710     407         46   08feb2013   20feb2013   22feb2013      .   20feb2013 |
1772. |  12957     407         48   10apr2013   12apr2013   22apr2013      .   12apr2013 |
1773. |  13694     407         58   16sep2014   11sep2014   17sep2014      .   17sep2014 |
1774. |  13825     407         62   20jan2015           .   03feb2015      .   03feb2015 |
1775. |  13880     407         64   09apr2015   11apr2015   20apr2015      .   11apr2015 |
1776. |  13929     407         66   09jun2015   19jun2015   06jul2015      .   19jun2015 |
1777. |  13985     407         68   06aug2015   03sep2015   17sep2015      .   03sep2015 |
1778. |  14038     407         70   06oct2015   17oct2015   02nov2015      .   17oct2015 |
1779. |  14091     407         72   04dec2015   08dec2015   20jan2016      .   08dec2015 |
1780. |  14196     407         76   07apr2016   02apr2016   11apr2016      .   11apr2016 |
1781. |  14269     407         78   07jun2016   23jun2016   28jun2016      .   23jun2016 |
1782. |  14321     407         80   04aug2016   10aug2016   16aug2016      .   10aug2016 |
      |----------------------------------------------------------------------------------|
1783. |    469     412          0   20apr2009           .   20apr2009      .   20apr2009 |
1784. |    572     412          1   14may2009           .   26may2009      .   26may2009 |
1785. |    721     412          2   11jun2009   29jun2009   29jun2009      .   29jun2009 |
1786. |   1221     412          4   14aug2009           .   25aug2009      .   25aug2009 |
1787. |   1688     412          6   15oct2009   07oct2009   29oct2009      .   29oct2009 |
1788. |   2675     412          8   15dec2009   20jan2010   25jan2010      .   20jan2010 |
1789. |   3212     412         10   12feb2010           .   17feb2010      .   17feb2010 |
1790. |   3811     412         12   16apr2010   19apr2010   20apr2010      .   19apr2010 |
1791. |   4414     412         14   16jun2010   18jun2010   21jun2010      .   18jun2010 |
1792. |   4954     412         16   11aug2010   13aug2010   17aug2010      .   13aug2010 |
1793. |   5578     412         18   13oct2010   16sep2010   18oct2010      .   18oct2010 |
1794. |   6191     412         20   15dec2010           .   04jan2011      .   04jan2011 |
1795. |   6813     412         22   16feb2011   17feb2011   22feb2011      .   17feb2011 |
1796. |   7349     412         24   12apr2011   28apr2011   04may2011      .   28apr2011 |
1797. |   7947     412         26   17jun2011   20jun2011   23jun2011      .   20jun2011 |
1798. |   8454     412         28   10aug2011   12aug2011   16aug2011      .   12aug2011 |
1799. |   8956     412         30   11oct2011           .   21oct2011      .   21oct2011 |
1800. |  10205     412         32   13dec2011   05jan2012   11jan2012      .   05jan2012 |
1801. |  10896     412         34   14feb2012   17feb2012   20feb2012      .   17feb2012 |
1802. |  11203     412         36   11apr2012   13apr2012   23apr2012      .   13apr2012 |
1803. |  11573     412         38   14jun2012           .   25jun2012      .   25jun2012 |
1804. |  11879     412         40   14aug2012   16aug2012   29aug2012      .   16aug2012 |
1805. |  12151     412         42   11oct2012   19oct2012   24oct2012      .   19oct2012 |
1806. |  12458     412         44   13dec2012   19dec2012   07jan2013      .   19dec2012 |
1807. |  12738     412         46   13feb2013   15feb2013   18feb2013      .   15feb2013 |
1808. |  12958     412         48   10apr2013   12apr2013   17apr2013      .   12apr2013 |
1809. |  13631     412         62   23jun2014   07aug2014   14jul2014      .   14jul2014 |
1810. |  13669     412         64   11aug2014   14aug2014   18aug2014      .   14aug2014 |
1811. |  13733     412         66   13oct2014   15oct2014   20oct2014      .   15oct2014 |
1812. |  13785     412         68   09dec2014   16dec2014   05jan2015      .   16dec2014 |
1813. |  13838     412         70   09feb2015   13feb2015   25feb2015      .   13feb2015 |
1814. |  13894     412         72   09apr2015   12apr2015   15apr2015      .   12apr2015 |
1815. |  13930     412         74   09jun2015   11jun2015   23jun2015      .   11jun2015 |
1816. |  13986     412         76   06aug2015   18aug2015   25aug2015      .   18aug2015 |
1817. |  14039     412         78   06oct2015   15sep2015   26oct2015      .   26oct2015 |
1818. |  14092     412         80   04dec2015   07dec2015   20jan2016      .   07dec2015 |
1819. |  14149     412         82   04feb2016   10feb2016   22feb2016      .   10feb2016 |
1820. |  14197     412         84   07apr2016   02apr2016   10may2016      1   02apr2016 |
1821. |  14270     412         86   07jun2016   14jun2016   20jun2016      .   14jun2016 |
      |----------------------------------------------------------------------------------|
2344. |    744     479          0   08jun2009           .   08jun2009      .   08jun2009 |
2345. |    797     479          1   26jun2009   13jul2009   22jul2009      .   13jul2009 |
2346. |   1087     479          2   30jul2009           .   10aug2009      .   10aug2009 |
2347. |   1536     479          4   23sep2009           .   08oct2009      .   08oct2009 |
2348. |   2309     479          6   25nov2009   27nov2010   11jan2010      1   27nov2010 |
2349. |   3035     479          8   29jan2010   02feb2010   15feb2010      .   02feb2010 |
2350. |   3550     479         10   25mar2010   27apr2010   29apr2010      .   27apr2010 |
2351. |   4163     479         12   26may2010   01jun2010   03jun2010      .   01jun2010 |
2352. |   4774     479         14   28jul2010   11oct2010   18oct2010      .   11oct2010 |
2353. |   5295     479         16   22sep2010   11oct2010   18oct2010      .   11oct2010 |
2354. |   5860     479         18   23nov2010   06jan2011   12jan2011      .   06jan2011 |
2355. |   7917     479         22   22mar2011   10may2011   01jun2011      .   10may2011 |
2356. |   7112     479         22   22mar2011   20apr2011   04may2011      .   20apr2011 |
2357. |   7713     479         24   25may2011   02jun2011   08jun2011      .   02jun2011 |
2358. |   8304     479         26   26jul2011   04aug2011   08aug2011      .   04aug2011 |
2359. |   8805     479         28   27sep2011   29sep2011   05oct2011      .   29sep2011 |
2360. |   9587     479         30   23nov2011   28feb2012   05mar2012      .   28feb2012 |
2361. |  10769     479         32   25jan2012   25feb2012   05mar2012      .   25feb2012 |
2362. |  11120     479         34   27mar2012   16apr2012   23apr2012      .   16apr2012 |
2363. |  11424     479         36   22may2012   30may2012   06jun2012      .   30may2012 |
      |----------------------------------------------------------------------------------|
5207. |   1627    1244          0   30sep2009           .   30sep2009      .   30sep2009 |
5208. |   1766    1244          1   20oct2009   23oct2009   29oct2009      .   23oct2009 |
5209. |   2324    1244          2   26nov2009   01dec2009   02dec2009      .   01dec2009 |
5210. |   2980    1244          4   22jan2010   26jan2010   27jan2010      .   26jan2010 |
5211. |   3575    1244          6   25mar2010   29mar2010   31mar2010      .   29mar2010 |
5212. |   4111    1244          8   20may2010   24may2010   27may2010      .   24may2010 |
5213. |   4722    1244         10   22jul2010   28jul2010   02aug2010      .   28jul2010 |
5214. |   5325    1244         12   22sep2010   27sep2010   04oct2010      .   27sep2010 |
5215. |   5886    1244         14   23nov2010   30nov2010   02dec2010      .   30nov2010 |
5216. |   6493    1244         16   19jan2011   25jan2011   31jan2011      .   25jan2011 |
5217. |   7136    1244         18   22mar2011   25mar2011   30mar2011      .   25mar2011 |
5218. |   7729    1244         20   25may2011   27may2011   01jun2011      .   27may2011 |
5219. |   8241    1244         22   20jul2011   27jul2011   01aug2011      .   27jul2011 |
5220. |   8745    1244         24   20sep2011   23sep2011   26sep2011      .   23sep2011 |
5221. |   9602    1244         26   23nov2011   30nov2011   06dec2011      .   30nov2011 |
5222. |  10778    1244         28   25jan2012   26jan2012   31jan2012      .   26jan2012 |
5223. |  11082    1244         30   20mar2012   22mar2012   27mar2012      .   22mar2012 |
5224. |  11439    1244         32   22may2012   25may2012   29may2012      .   25may2012 |
5225. |  11780    1244         34   26jul2012   03aug2012   08aug2012      .   03aug2012 |
5226. |  12049    1244         36   18sep2012   24sep2012   26sep2012      .   24sep2012 |
5227. |  12356    1244         38   22nov2012   27nov2012   29nov2012      .   27nov2012 |
5228. |  12637    1244         40   25jan2013   19feb2013   22feb2013      .   19feb2013 |
5229. |  12882    1244         42   21mar2013   04apr2013   12apr2013      .   04apr2013 |
5230. |  13067    1244         44   22may2013   24may2013   29may2013      .   24may2013 |
5231. |  13251    1244         46   25jul2013   30jul2013   04aug2013      .   30jul2013 |
5232. |  13401    1244         48   25sep2013   01oct2013   21oct2013      .   01oct2013 |
5233. |  13668    1244         60   14aug2014   15aug2014   19aug2014      .   15aug2014 |
5234. |  13750    1244         62   17nov2014   27nov2014   03dec2014      .   27nov2014 |
5235. |  13812    1244         64   19jan2015           .   03feb2014      1   03feb2014 |
5236. |  13861    1244         66   24mar2015   21apr2015   27apr2015      .   21apr2015 |
5237. |  13918    1244         68   21may2015   11jun2015   22jun2015      .   11jun2015 |
5238. |  13961    1244         70   09jul2015   14aug2015   25aug2015      .   14aug2015 |
5239. |  14025    1244         72   21sep2015   16oct2015   20oct2015      .   16oct2015 |
5240. |  14078    1244         74   19nov2015   11dec2015   25jan2016      .   11dec2015 |
5241. |  14131    1244         76   21jan2016   15feb2016   22feb2016      .   15feb2016 |
5242. |  14184    1244         78   24mar2016   07apr2016   18apr2016      .   07apr2016 |
5243. |  14253    1244         80   20may2016   14jun2016   20jun2016      .   14jun2016 |
5244. |  14309    1244         82   28jul2016   22aug2016   05sep2016      .   22aug2016 |
      |----------------------------------------------------------------------------------|
6168. |   1927    1288          0   21oct2009           .   21oct2009      .   21oct2009 |
6169. |   2155    1288          1   11nov2009   20nov2009   25nov2009      .   20nov2009 |
6170. |   2725    1288          2   16dec2009   24dec2009   05jan2010      .   24dec2009 |
6171. |   3261    1288          4   12feb2010   17feb2010   01mar2010      .   17feb2010 |
6172. |   3842    1288          6   16apr2010   19apr2010   20apr2010      .   19apr2010 |
6173. |   4436    1288          8   16jun2010   18jun2010   23jun2010      .   18jun2010 |
6174. |   4996    1288         10   11aug2010   15aug2010   18aug2010      .   15aug2010 |
6175. |   5609    1288         12   13oct2010   16oct2010   25oct2010      .   16oct2010 |
6176. |   6221    1288         14   15dec2010   20dec2010   05jan2011      .   20dec2010 |
6177. |   6835    1288         16   16feb2011   18feb2011   22feb2011      .   18feb2011 |
6178. |   7380    1288         18   12apr2011   14apr2011   26apr2011      .   14apr2011 |
6179. |   7973    1288         20   17jun2011   21jun2011   27jun2011      .   21jun2011 |
6180. |   8486    1288         22   10aug2011   14aug2011   22aug2011      .   14aug2011 |
6181. |   8977    1288         24   11oct2011   13oct2011   19oct2011      .   13oct2011 |
6182. |  10213    1288         26   13dec2011   15dec2011   29dec2011      .   15dec2011 |
6183. |  10904    1288         28   14feb2012   30mar2012   23apr2012      .   30mar2012 |
6184. |  11187    1288         30   11apr2012           .   25apr2012      .   25apr2012 |
6185. |  11565    1288         32   14jun2012   17jun2012   25jun2012      .   17jun2012 |
6186. |  11887    1288         34   14aug2012   26aug2012   03sep2012      .   26aug2012 |
6187. |  12472    1288         38   13dec2012           .   07jan2013      .   07jan2013 |
6188. |  12970    1288         42   10apr2013           .   04mar2013      1   04mar2013 |
      |----------------------------------------------------------------------------------|
6584. |   2033    1308          0   03nov2009           .   03nov2009      .   03nov2009 |
6585. |   2346    1308          1   26nov2009   11jan2010   18jan2010      .   11jan2010 |
6586. |   3922    1308          6   28apr2010   14may2010   09jun2010      .   14may2010 |
6587. |   4469    1308          8   23jun2010   29jun2010   13jul2010      .   29jun2010 |
6588. |   5070    1308         10   26aug2010   28aug2010   01sep2010      .   28aug2010 |
6589. |   6260    1308         14   22dec2010   29dec2010   05jan2011      .   29dec2010 |
6590. |   6879    1308         16   23feb2011   01apr2011   11apr2011      .   01apr2011 |
6591. |   7460    1308         18   27apr2011   29apr2011   20jun2011      .   29apr2011 |
6592. |   8024    1308         20   24jun2011   30jun2011   22aug2011      .   30jun2011 |
6593. |   8559    1308         22   23aug2011   22aug2011   31oct2011      1   22aug2011 |
      |----------------------------------------------------------------------------------|
6594. |   2034    1309          0   03nov2009           .   03nov2009      .   03nov2009 |
6595. |   2347    1309          1   26nov2009   03dec2009   07dec2009      .   03dec2009 |
6596. |   2785    1309          2   22dec2009   31dec2009   05jan2010      .   31dec2009 |
6597. |   3321    1309          4   24feb2010   26feb2010   02mar2010      .   26feb2010 |
6598. |   3914    1309          6   28apr2010   03may2010   05may2010      .   03may2010 |
6599. |   4470    1309          8   23jun2010   02jul2010   05jul2010      .   02jul2010 |
6600. |   5071    1309         10   26aug2010   01sep2010   07sep2010      .   01sep2010 |
6601. |   5694    1309         12   27oct2010   29oct2010   01nov2010      .   29oct2010 |
6602. |   6261    1309         14   22dec2010   29dec2010   05jan2011      .   29dec2010 |
6603. |   6880    1309         16   23feb2011   25feb2011   28feb2011      .   25feb2011 |
6604. |   7461    1309         18   27apr2011   28apr2011   04may2011      .   28apr2011 |
6605. |   8051    1309         20   28jun2011   01jul2011   11jul2011      .   01jul2011 |
6606. |   8560    1309         22   23aug2011   25aug2011   30aug2011      .   25aug2011 |
6607. |   9163    1309         24   26oct2011   27oct2011   03nov2011      .   27oct2011 |
6608. |  10337    1309         26   21dec2011   29dec2011   04jan2012      .   29dec2011 |
6609. |  10943    1309         28   21feb2012   22feb2012   27feb2012      .   22feb2012 |
6610. |  11293    1309         30   24apr2012   27apr2012   30apr2012      .   27apr2012 |
6611. |  11627    1309         32   26jun2012   29jun2012   09jul2012      .   29jun2012 |
6612. |  11923    1309         34   28aug2012   30aug2012   03sep2012      .   30aug2012 |
6613. |  12226    1309         36   23oct2012   26oct2012   31oct2012      .   26oct2012 |
6614. |  12702    1309         38   31dec2013   29mar2013   11mar2013      1   29mar2013 |
6615. |  12786    1309         40   01mar2013   08mar2013   14mar2013      .   08mar2013 |
6616. |  13001    1309         42   16apr2013   11may2013   20may2013      .   11may2013 |
6617. |  13189    1309         44   04jul2013   29jun2013   04jul2013      .   04jul2013 |
6618. |  13340    1309         46   29aug2013   02sep2013   09sep2013      .   02sep2013 |
6619. |  13487    1309         48   31oct2013   04nov2013   07nov2013      .   04nov2013 |
      |----------------------------------------------------------------------------------|
6990. |   2204    1328          0   16nov2009           .   16nov2009      .   16nov2009 |
6991. |   2506    1328          1   02dec2009   07dec2009   14dec2009      .   07dec2009 |
6992. |   2852    1328          2   08jan2010   12jan2010   25jan2010      .   12jan2010 |
6993. |   3383    1328          4   02mar2010   05mar2010   08mar2010      .   05mar2010 |
6994. |   3986    1328          6   06may2010   14may2010   17may2010      .   14may2010 |
6995. |   4573    1328          8   08jul2010   14jul2010   22jul2010      .   14jul2010 |
6996. |   5138    1328         10   01sep2010   05sep2010   13sep2010      .   05sep2010 |
6997. |   5756    1328         12   02nov2010   15nov2010   17nov2010      .   15nov2010 |
6998. |   6346    1328         14   05jan2011   17jan2011   19jan2011      .   17jan2011 |
6999. |   6933    1328         16   01mar2011   07mar2011   14mar2011      .   07mar2011 |
7000. |   7528    1328         18   06may2011   14may2011   23may2011      .   14may2011 |
7001. |   8109    1328         20   05jul2011   12jul2011   18jul2011      .   12jul2011 |
7002. |   8634    1328         22   07sep2011   17sep2011   26sep2011      .   17sep2011 |
7003. |   9204    1328         24   01nov2011   09nov2011   14nov2011      .   09nov2011 |
7004. |  10512    1328         26   04jan2012   09jan2012   12jan2012      .   09jan2012 |
7005. |  10984    1328         28   07mar2012           .   02apr2012      .   02apr2012 |
7006. |  11322    1328         30   01may2012   07may2012   15may2012      .   07may2012 |
7007. |  11662    1328         32   03jul2012   28jul2012   06aug2012      .   28jul2012 |
7008. |  11964    1328         34   04sep2012   24sep2012   26sep2012      .   24sep2012 |
7009. |  12274    1328         36   08nov2012   26nov2012   05dec2012      .   26nov2012 |
7010. |  12526    1328         38   02jan2013   28jan2013   05feb2013      .   28jan2013 |
7011. |  12809    1328         40   07mar2013   26mar2013   12apr2013      .   26mar2013 |
7012. |  13107    1328         42   01may2013   26may2013   03jun2013      .   26may2013 |
7013. |  13286    1328         44   05jul2013   22jul2013   01aug2013      .   22jul2013 |
7014. |  13437    1328         46   02sep2013   29sep2013   21oct2013      .   29sep2013 |
7015. |  13501    1328         48   07nov2013   21dec2013   30dec2013      .   21dec2013 |
7016. |  13762    1328         54   05aug2014   31jul2014   05aug2014      .   05aug2014 |
7017. |  13840    1328         60   09feb2015   20feb2015   19mar2015      .   20feb2015 |
7018. |  13874    1328         62   09apr2015   17may2015   02jun2015      .   17may2015 |
7019. |  13947    1328         64   09jun2015   12jun2015   22jun2015      .   12jun2015 |
7020. |  14003    1328         66   06aug2015   19aug2015   25aug2015      .   19aug2015 |
7021. |  14056    1328         68   06oct2015   02oct2015   17nov2015      1   02oct2015 |
7022. |  14109    1328         70   04dec2015   14dec2015   25jan2016      .   14dec2015 |
7023. |  14162    1328         72   04feb2016   14feb2016   22feb2016      .   14feb2016 |
7024. |  14214    1328         74   07apr2016   28apr2016   10may2016      .   28apr2016 |
7025. |  14287    1328         76   07jun2016   04jul2016   12jul2016      .   04jul2016 |
7026. |  14339    1328         78   04aug2016   06sep2016   12sep2016      .   06sep2016 |
      |----------------------------------------------------------------------------------|
8950. |   1824    2043          0   12oct2009           .   12oct2009      .   12oct2009 |
8951. |   2089    2043          1   11nov2009   12nov2009   18nov2009      .   12nov2009 |
8952. |   2446    2043          2   01dec2009   05dec2009   09dec2009      .   05dec2009 |
8953. |   3119    2043          4   05feb2010   09jan2010   17feb2010      .   17feb2010 |
8954. |   3721    2043          6   12apr2010   01may2010   05may2010      .   01may2010 |
8955. |   4267    2043          8   04jun2010   10jun2010   15jun2010      .   10jun2010 |
8956. |   4878    2043         10   06aug2010   09aug2010   16aug2010      .   09aug2010 |
8957. |   5437    2043         12   28sep2010   02oct2010   12oct2010      .   02oct2010 |
8958. |   6672    2043         16   09feb2011   12feb2011   21feb2011      .   12feb2011 |
8959. |   7231    2043         18   29mar2011   10apr2011   12apr2011      .   10apr2011 |
8960. |   7804    2043         20   01jun2011   06jun2011   13jun2011      .   06jun2011 |
8961. |   8379    2043         22   02aug2011   05aug2011   15aug2011      .   05aug2011 |
8962. |   8896    2043         24   05oct2011   04nov2011   10nov2011      .   04nov2011 |
8963. |  10883    2043         26   30nov2011   14jan2011   24jan2012      1   14jan2011 |
8964. |   9803    2043         26   30nov2011   07jan2012   12jan2012      .   07jan2012 |
8965. |  10834    2043         28   31jan2012   31jan2012   06feb2012      .   31jan2012 |
8966. |  11160    2043         30   03apr2012   27apr2012   01may2012      .   27apr2012 |
8967. |  11516    2043         32   29may2012   14jun2012   19jun2012      .   14jun2012 |
8968. |  11833    2043         34   06aug2012   20sep2012   04oct2012      .   20sep2012 |
8969. |  12209    2043         36   18oct2012   21oct2012   29oct2012      .   21oct2012 |
8970. |  12431    2043         38   05dec2012   05dec2012   07jan2013      .   05dec2012 |
8971. |  12943    2043         42   05apr2013   21may2013   03jun2013      .   21may2013 |
8972. |  13153    2043         44   06jun2013           .   25jun2013      .   25jun2013 |
      |----------------------------------------------------------------------------------|
9217. |   1800    2066          0   12oct2009           .   12oct2009      .   12oct2009 |
9218. |   2065    2066          1   11nov2009   20nov2009   25nov2009      .   20nov2009 |
9219. |   2423    2066          2   01dec2009   03dec2009   07dec2009      .   03dec2009 |
9220. |   3142    2066          4   05feb2010   17feb2010   22feb2010      .   17feb2010 |
9221. |   3742    2066          6   12apr2010   27apr2010   29apr2010      .   27apr2010 |
9222. |   4288    2066          8   04jun2010   17jun2010   21jun2010      .   17jun2010 |
9223. |   4885    2066         10   06aug2010   04oct2010   11oct2010      .   04oct2010 |
9224. |   6059    2066         14   30nov2010   04dec2010   08dec2010      .   04dec2010 |
9225. |   6693    2066         16   09feb2011   03mar2011   08mar2011      .   03mar2011 |
9226. |   7249    2066         18   29mar2011   26apr2011   03may2011      .   26apr2011 |
9227. |   7822    2066         20   01jun2011   01jul2011   05jul2011      .   01jul2011 |
9228. |   8864    2066         24   27sep2011   09oct2011   12oct2011      .   09oct2011 |
9229. |   9806    2066         26   30nov2011   26feb2012   01mar2011      1   26feb2012 |
9230. |  11161    2066         30   03apr2012   15apr2012   23apr2012      .   15apr2012 |
9231. |  12211    2066         36   18oct2012   21oct2012   29oct2012      .   21oct2012 |
9232. |  12683    2066         40   31jan2013   15feb2013   20feb2013      .   15feb2013 |
9233. |  12945    2066         42   05apr2013   16apr2013   22apr2013      .   16apr2013 |
9234. |  13142    2066         44   30may2013   02jun2013   11jun2013      .   02jun2013 |
9235. |  13308    2066         46   05aug2013   05aug2013   15aug2013      .   05aug2013 |
9236. |  13457    2066         48   04oct2013   14oct2013   22oct2013      .   14oct2013 |
      +----------------------------------------------------------------------------------+
4 disordered date swabs with clear year typos (usually in dec-> jan - replace with correct year
6disordered dates swabs still remaining; impossible to decide on correct date leave as current best guess

      +------------------------------------------------------------------+
      | patid   timepo~t        Sent   DateTaken    Received    BestDate |
      |------------------------------------------------------------------|
1820. |   412         84   07apr2016   02apr2016   10may2016   02apr2016 |
      |------------------------------------------------------------------|
6188. |  1288         42   10apr2013           .   04mar2013   04mar2013 |
      |------------------------------------------------------------------|
6593. |  1308         22   23aug2011   22aug2011   31oct2011   22aug2011 |
      |------------------------------------------------------------------|
6614. |  1309         38   31dec2013   29mar2013   11mar2013   29mar2013 |
      |------------------------------------------------------------------|
7021. |  1328         68   06oct2015   02oct2015   17nov2015   02oct2015 |
      |------------------------------------------------------------------|
9229. |  2066         26   30nov2011   26feb2012   01mar2011   26feb2012 |
      +------------------------------------------------------------------+





================================================================================
(5b)  people missing spatype data or mismatched result data
================================================================================

. gen carriage = "defpos" if inlist(Result, "MRSA", "MSSA") & spatype!=""
(5,028 missing values generated)

. 
. replace carriage ="defneg" if Result=="No growth" & spatype==""
(4,922 real changes made)

. 
. replace carriage = "conflict: missing spatype" if Result!="No growth" & spatype==""
variable carriage was str6 now str25
(102 real changes made)

. 
. replace carriage = "conflict: incorrect Result/spa match" if Result=="No growth" & spat
> ype!="" 
variable carriage was str25 now str36
(2 real changes made)

. 
. replace carriage = "Result missing" if Result ==""
(4 real changes made)

. 
. assert carriage!=""

. 
. noi tab carriage

                            carriage |      Freq.     Percent        Cum.
-------------------------------------+-----------------------------------
                      Result missing |          4        0.04        0.04
conflict: incorrect Result/spa match |          2        0.02        0.06
           conflict: missing spatype |        100        1.02        1.08
                              defneg |      4,922       50.32       51.41
                              defpos |      4,753       48.59      100.00
-------------------------------------+-----------------------------------
                               Total |      9,781      100.00

. 
. 
. 
. gen missingspatype=1 if inlist(Result, "MRSA", "MSSA") & spatype==""
(9,681 missing values generated)

. 
. summ missingspatype

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
missingspa~e |        100           1           0          1          1

. 
. noi di r(sum) "records with result says MRSA MSSA, but who have missing spatypes"
100records with result says MRSA MSSA, but who have missing spatypes

. 
. noi tab timepoint if missingspatype==1

Follow-upMo |
        nth |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |          1        1.00        1.00
         10 |          1        1.00        2.00
         44 |          3        3.00        5.00
         68 |          1        1.00        6.00
         70 |          2        2.00        8.00
         72 |          4        4.00       12.00
         74 |         10       10.00       22.00
         76 |         14       14.00       36.00
         78 |         12       12.00       48.00
         80 |         16       16.00       64.00
         82 |         14       14.00       78.00
         84 |         11       11.00       89.00
         86 |          6        6.00       95.00
         88 |          5        5.00      100.00
------------+-----------------------------------
      Total |        100      100.00

. 
. noi list patid SwabID timepoint Result spatype  if missingspatype==1, sepby(patid)

      +----------------------------------------------+
      | patid   SwabID   timepo~t   Result   spatype |
      |----------------------------------------------|
1574. |   366    14089         76     MSSA           |
1575. |   366    14147         78     MSSA           |
1576. |   366    14194         80     MSSA           |
1577. |   366    14267         82     MSSA           |
1578. |   366    14319         84     MSSA           |
      |----------------------------------------------|
1652. |   374    14090         78     MSSA           |
1655. |   374    14268         84     MSSA           |
1656. |   374    14320         86     MSSA           |
      |----------------------------------------------|
1818. |   412    14092         80     MSSA           |
1819. |   412    14149         82     MSSA           |
1820. |   412    14197         84     MSSA           |
      |----------------------------------------------|
1881. |   418    14093         80     MSSA           |
1882. |   418    14150         82     MSSA           |
1883. |   418    14198         84     MSSA           |
1884. |   418    14271         86     MSSA           |
1885. |   418    14323         88     MSSA           |
      |----------------------------------------------|
1921. |   420    14151         82     MSSA           |
1922. |   420    14199         84     MSSA           |
1923. |   420    14272         86     MSSA           |
1924. |   420    14324         88     MSSA           |
      |----------------------------------------------|
1959. |   424    14095         80     MSSA           |
1960. |   424    14152         82     MSSA           |
1961. |   424    14200         84     MSSA           |
1962. |   424    14273         86     MSSA           |
1963. |   424    14325         88     MSSA           |
      |----------------------------------------------|
2135. |   450    14062         78     MSSA           |
2136. |   450    14115         80     MSSA           |
2137. |   450    14168         82     MSSA           |
2138. |   450    14220         84     MSSA           |
2140. |   450    14345         88     MSSA           |
      |----------------------------------------------|
2207. |   454    14116         80     MSSA           |
2208. |   454    14169         82     MSSA           |
2209. |   454    14221         84     MSSA           |
2210. |   454    14294         86     MSSA           |
      |----------------------------------------------|
2797. |   671    14068         78     MRSA           |
2798. |   671    14121         80     MRSA           |
2799. |   671    14174         82     MRSA           |
2800. |   671    14242         84     MRSA           |
2801. |   671    14299         86     MRSA           |
2802. |   671    14359         88     MRSA           |
      |----------------------------------------------|
3608. |   989     1118          0     MSSA           |
      |----------------------------------------------|
3664. |   993    14096         76     MSSA           |
3665. |   993    14153         78     MSSA           |
3668. |   993    14326         84     MSSA           |
      |----------------------------------------------|
4328. |  1212    14070         74     MSSA           |
4329. |  1212    14123         76     MSSA           |
4331. |  1212    14244         80     MSSA           |
4332. |  1212    14301         82     MSSA           |
      |----------------------------------------------|
4536. |  1218    14097         74     MSSA           |
4537. |  1218    14141         76     MSSA           |
4538. |  1218    14202         78     MSSA           |
4539. |  1218    14275         80     MSSA           |
4540. |  1218    14327         82     MSSA           |
      |----------------------------------------------|
4573. |  1219    14098         74     MSSA           |
4574. |  1219    14142         76     MSSA           |
4575. |  1219    14203         78     MSSA           |
4576. |  1219    14276         80     MSSA           |
4577. |  1219    14328         82     MSSA           |
      |----------------------------------------------|
4627. |  1221    13032         44     MSSA           |
      |----------------------------------------------|
4909. |  1231    14102         68     MSSA           |
4910. |  1231    14155         70     MSSA           |
4911. |  1231    14207         72     MSSA           |
4912. |  1231    14280         74     MSSA           |
4913. |  1231    14332         76     MSSA           |
      |----------------------------------------------|
4972. |  1233    14103         76     MSSA           |
4973. |  1233    14156         78     MSSA           |
4974. |  1233    14208         80     MSSA           |
4975. |  1233    14281         82     MSSA           |
4976. |  1233    14333         84     MSSA           |
      |----------------------------------------------|
5240. |  1244    14078         74     MSSA           |
5241. |  1244    14131         76     MSSA           |
      |----------------------------------------------|
5663. |  1261    13131         44     MSSA           |
      |----------------------------------------------|
5864. |  1274    14158         76     MSSA           |
      |----------------------------------------------|
6031. |  1281    14076         72     MSSA           |
6032. |  1281    14129         74     MSSA           |
6033. |  1281    14182         76     MSSA           |
6034. |  1281    14250         78     MSSA           |
6035. |  1281    14307         80     MSSA           |
      |----------------------------------------------|
6329. |  1295    14054         70     MSSA           |
6332. |  1295    14212         76     MSSA           |
6334. |  1295    14337         80     MSSA           |
      |----------------------------------------------|
6439. |  1301     5063         10     MSSA           |
      |----------------------------------------------|
6579. |  1307    14108         72     MSSA           |
6580. |  1307    14161         74     MSSA           |
6582. |  1307    14286         78     MSSA           |
6583. |  1307    14338         80     MSSA           |
      |----------------------------------------------|
7153. |  1332    14119         74     MSSA           |
7154. |  1332    14172         76     MSSA           |
7155. |  1332    14224         78     MSSA           |
7156. |  1332    14297         80     MSSA           |
7157. |  1332    14349         82     MSSA           |
      |----------------------------------------------|
7357. |  1343    13195         44     MSSA           |
      |----------------------------------------------|
7627. |  1359    14077         72     MSSA           |
7628. |  1359    14130         74     MSSA           |
7629. |  1359    14183         76     MSSA           |
7630. |  1359    14251         78     MSSA           |
7631. |  1359    14308         80     MSSA           |
7632. |  1359    14358         82     MSSA           |
      |----------------------------------------------|
7817. |  1370    14163         74     MSSA           |
7818. |  1370    14215         76     MSSA           |
      +----------------------------------------------+

. 
. 
. 
. summ missingspatype if timepoint < 72

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
missingspa~e |          8           1           0          1          1

. 
. noi di r(sum) "records with result says MRSA MSSA, but who have missing spatypes before
>  timepoint 70 ( so should have been typed already)"
8records with result says MRSA MSSA, but who have missing spatypes before timepoint 70 ( 
> so should have been typed already)

. 
. * talk to Kyle about 

. 
. noi list patid SwabID timepoint Result spatype if missingspatype==1 & timepoint <70, se
> pby(patid)

      +----------------------------------------------+
      | patid   SwabID   timepo~t   Result   spatype |
      |----------------------------------------------|
3608. |   989     1118          0     MSSA           |
      |----------------------------------------------|
4627. |  1221    13032         44     MSSA           |
      |----------------------------------------------|
4909. |  1231    14102         68     MSSA           |
      |----------------------------------------------|
5663. |  1261    13131         44     MSSA           |
      |----------------------------------------------|
6439. |  1301     5063         10     MSSA           |
      |----------------------------------------------|
7357. |  1343    13195         44     MSSA           |
      +----------------------------------------------+

. 
. gen missing68 = missingspa if timepoint<68
(9,776 missing values generated)

. 
. by patid: egen missingmax=max(missing68)
(9655 missing values generated)

. 
. noi di "detail of those patids over time: note 1261"
detail of those patids over time: note 1261

. 
. noi list patid SwabID timepoint Result spatype missingspa if missingmax==1, sepby(patid
> )

      +--------------------------------------------------------------+
      | patid   SwabID   timepo~t      Result     spatype   missin~e |
      |--------------------------------------------------------------|
3608. |   989     1118          0        MSSA                      1 |
3609. |   989     1305          1        MSSA        t164          . |
3610. |   989     1514          2        MSSA        t164          . |
3611. |   989     2223          4        MSSA        t164          . |
3612. |   989     2939          6        MSSA        t164          . |
3613. |   989     3481          8        MSSA        t164          . |
3614. |   989     4071         10        MSSA        t164          . |
3615. |   989     4689         12        MSSA        t164          . |
3616. |   989     5299         14        MSSA        t164          . |
3617. |   989     5939         16        MSSA        t164          . |
3618. |   989     6455         18        MSSA        t164          . |
3619. |   989     7116         20        MSSA        t164          . |
3620. |   989     7629         22        MSSA        t164          . |
3621. |   989     8205         24        MSSA        t164          . |
      |--------------------------------------------------------------|
4604. |  1221     1572          0        MSSA       t1521          . |
4605. |  1221     1743          1        MSSA       t1521          . |
4606. |  1221     2244          2   No growth                      . |
4607. |  1221     2957          4        MSSA       t1521          . |
4608. |  1221     3500          6        MSSA       t1521          . |
4609. |  1221     4088          8   No growth                      . |
4610. |  1221     4699         10   No growth                      . |
4611. |  1221     5241         12        MSSA        t071          . |
4612. |  1221     5958         14        MSSA        t071          . |
4613. |  1221     6472         16        MSSA        t071          . |
4614. |  1221     7047         18        MSSA        t071          . |
4615. |  1221     7648         20        MSSA        t071          . |
4616. |  1221     8221         22        MSSA        t071          . |
4617. |  1221     8725         24   No growth                      . |
4618. |  1221     9527         26        MSSA        t071          . |
4619. |  1221    10709         28        MSSA        t071          . |
4620. |  1221    11062         30        MSSA        t071          . |
4621. |  1221    11381         32   No growth                      . |
4622. |  1221    11727         34   No growth                      . |
4623. |  1221    12029         36        MSSA        t189          . |
4624. |  1221    12336         38        MSSA        t189          . |
4625. |  1221    12591         40        MSSA        t071          . |
4626. |  1221    12863         42        MSSA        t071          . |
4627. |  1221    13032         44        MSSA                      1 |
4628. |  1221    13218         46        MSSA       t9873          . |
4629. |  1221    13369         48        MSSA       t9873          . |
      |--------------------------------------------------------------|
5640. |  1261     1644          0        MSSA   t084/t280          . |
5641. |  1261     1900          1        MSSA        t280          . |
5642. |  1261     2363          2        MSSA        t280          . |
5643. |  1261     3050          4        MSSA        t280          . |
5644. |  1261     3618          6        MSSA        t280          . |
5645. |  1261     4222          8        MSSA        t280          . |
5646. |  1261     4791         10        MSSA        t280          . |
5647. |  1261     5396         12        MSSA        t280          . |
5648. |  1261     6114         14        MSSA        t280          . |
5649. |  1261     6620         16        MSSA        t280          . |
5650. |  1261     7194         18        MSSA        t280          . |
5651. |  1261     7866         20        MSSA        t280          . |
5652. |  1261     8317         22        MSSA        t280          . |
5653. |  1261     8817         24        MSSA        t280          . |
5654. |  1261     9770         26        MSSA        t280          . |
5655. |  1261    10823         28        MSSA        t280          . |
5656. |  1261    11130         30        MSSA        t280          . |
5657. |  1261    11504         32        MSSA        t280          . |
5658. |  1261    11813         34        MSSA        t280          . |
5659. |  1261    12097         36        MSSA        t280          . |
5660. |  1261    12405         38        MSSA        t280          . |
5661. |  1261    12672         40   No growth                      . |
5662. |  1261    12923         42        MSSA        t280          . |
5663. |  1261    13131         44        MSSA                      1 |
5664. |  1261    13298         46   No growth                      . |
5665. |  1261    13448         48        MSSA        t280          . |
5666. |  1261    13706         58        MSSA        t127          . |
5667. |  1261    13832         62        MSSA        t280          . |
5668. |  1261    13881         64   No growth                      . |
5669. |  1261    13942         66   No growth                      . |
5670. |  1261    13998         68   No growth                      . |
5671. |  1261    14051         70   No growth                      . |
5672. |  1261    14104         72   No growth                      . |
5673. |  1261    14157         74   No growth                      . |
5674. |  1261    14209         76   No growth                      . |
5675. |  1261    14282         78   No growth                      . |
5676. |  1261    14334         80   No growth                      . |
      |--------------------------------------------------------------|
6435. |  1301     2026          0        MSSA        t216          . |
6436. |  1301     2339          1        MSSA        t216          . |
6437. |  1301     3915          6        MSSA        t216          . |
6438. |  1301     4462          8        MSSA        t216          . |
6439. |  1301     5063         10        MSSA                      1 |
6440. |  1301     5686         12        MSSA        t216          . |
6441. |  1301     6253         14   No growth                      . |
6442. |  1301     6872         16        MSSA        t216          . |
6443. |  1301     7453         18        MSSA        t216          . |
6444. |  1301     8017         20        MSSA        t216          . |
6445. |  1301     8552         22        MSSA        t216          . |
6446. |  1301     9155         24        MSSA        t216          . |
6447. |  1301    10885         26        MSSA        t216          . |
6448. |  1301    10952         28        MSSA        t216          . |
6449. |  1301    11287         30        MSSA        t216          . |
6450. |  1301    11621         32        MSSA        t216          . |
6451. |  1301    11917         34        MSSA        t216          . |
6452. |  1301    12221         36        MSSA        t216          . |
6453. |  1301    12771         40   No growth                      . |
6454. |  1301    12997         42        MSSA        t216          . |
6455. |  1301    13184         44        MSSA        t216          . |
6456. |  1301    13336         46        MSSA        t216          . |
6457. |  1301    13482         48        MSSA        t216          . |
      |--------------------------------------------------------------|
7334. |  1343     2521          0        MSSA        t160          . |
7335. |  1343     2636          1        MSSA        t160          . |
7336. |  1343     2899          2        MSSA        t160          . |
7337. |  1343     3436          4        MSSA        t160          . |
7338. |  1343     4037          6        MSSA        t160          . |
7339. |  1343     4643          8        MSSA        t160          . |
7340. |  1343     5159         10        MSSA        t160          . |
7341. |  1343     5808         12        MSSA        t160          . |
7342. |  1343     6409         14        MSSA        t160          . |
7343. |  1343     6985         16        MSSA        t160          . |
7344. |  1343     7578         18        MSSA        t160          . |
7345. |  1343     8169         20        MSSA        t160          . |
7346. |  1343     8681         22        MSSA        t160          . |
7347. |  1343     9285         24        MSSA        t160          . |
7348. |  1343    10653         26        MSSA        t571          . |
7349. |  1343    11033         28        MSSA        t571          . |
7350. |  1343    11353         30        MSSA        t571          . |
7351. |  1343    11694         32        MSSA        t571          . |
7352. |  1343    11987         34        MSSA        t571          . |
7353. |  1343    12309         36        MSSA        t571          . |
7354. |  1343    12552         38        MSSA        t571          . |
7355. |  1343    12831         40        MSSA        t571          . |
7356. |  1343    13010         42        MSSA        t571          . |
7357. |  1343    13195         44        MSSA                      1 |
7358. |  1343    13343         46        MSSA        t571          . |
7359. |  1343    13509         48        MSSA        t571          . |
      +--------------------------------------------------------------+

. noi di "TEMPORARY: drop swabs with missing spatypes"
TEMPORARY: drop swabs with missing spatypes

. 
. drop if missingspa==1
(100 observations deleted)

. 
. drop missing*

. 
. *

. 
. gen incorrect_result_query = 1 if Result=="No growth" & spatype!="" 
(9,679 missing values generated)

. 
. summ incorrect_result

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
incorrect_~y |          2           1           0          1          1

. 
. noi di r(sum) " records with result says No Growth, but who have spatypes"
2 records with result says No Growth, but who have spatypes

. noi tab timepoint if incorrect_result==1

Follow-upMo |
        nth |      Freq.     Percent        Cum.
------------+-----------------------------------
         16 |          1       50.00       50.00
         46 |          1       50.00      100.00
------------+-----------------------------------
      Total |          2      100.00

. noi list patid SwabID timepoint Result spatype if incorrect_result==1, sepby(patid)

      +-------------------------------------------------+
      | patid   SwabID   timepo~t      Result   spatype |
      |-------------------------------------------------|
5059. |  1240    13247         46   No growth      t084 |
      |-------------------------------------------------|
8775. |  2036     6667         16   No growth      t136 |
      +-------------------------------------------------+

. 
. by patid: egen incorrectmax=max(incorrect)
(9631 missing values generated)

. noi di "detail of those patids over time: note "
detail of those patids over time: note 

. 
. noi list patid SwabID timepoint Result spatype incorrect_result if incorrectmax==1, sep
> by(patid) /// list out those with missing spatypes before 68 months
option / not allowed
r(198);

. noi di "detail of those patids over time: note "
detail of those patids over time: note 

. 
. noi list patid SwabID timepoint Result spatype incorrect_result if incorrectmax==1, sep
> by(patid)

      +------------------------------------------------------------+
      | patid   SwabID   timepo~t      Result   spatype   incorr~y |
      |------------------------------------------------------------|
5035. |  1240     1623          0   No growth                    . |
5036. |  1240     1762          1   No growth                    . |
5037. |  1240     2320          2   No growth                    . |
5038. |  1240     2976          4   No growth                    . |
5039. |  1240     3571          6   No growth                    . |
5040. |  1240     4107          8   No growth                    . |
5041. |  1240     4718         10        MSSA      t091          . |
5042. |  1240     5321         12   No growth                    . |
5043. |  1240     5882         14   No growth                    . |
5044. |  1240     6489         16   No growth                    . |
5045. |  1240     7132         18   No growth                    . |
5046. |  1240     7725         20   No growth                    . |
5047. |  1240     8237         22   No growth                    . |
5048. |  1240     8741         24   No growth                    . |
5049. |  1240     9598         26   No growth                    . |
5050. |  1240    10774         28   No growth                    . |
5051. |  1240    11078         30   No growth                    . |
5052. |  1240    11435         32   No growth                    . |
5053. |  1240    11777         34   No growth                    . |
5054. |  1240    12045         36   No growth                    . |
5055. |  1240    12352         38   No growth                    . |
5056. |  1240    12633         40        MSSA      t223          . |
5057. |  1240    12878         42   No growth                    . |
5058. |  1240    13063         44   No growth                    . |
5059. |  1240    13247         46   No growth      t084          1 |
5060. |  1240    13397         48   No growth                    . |
      |------------------------------------------------------------|
8766. |  2036     1798          0   No growth                    . |
8767. |  2036     2063          1   No growth                    . |
8768. |  2036     2421          2   No growth                    . |
8769. |  2036     3112          4   No growth                    . |
8770. |  2036     3716          6   No growth                    . |
8771. |  2036     4261          8   No growth                    . |
8772. |  2036     4872         10        MSSA      t216          . |
8773. |  2036     5432         12   No growth                    . |
8774. |  2036     6032         14   No growth                    . |
8775. |  2036     6667         16   No growth      t136          1 |
8776. |  2036     7226         18   No growth                    . |
8777. |  2036     7800         20        MSSA      t216          . |
8778. |  2036     8375         22        MSSA      t216          . |
8779. |  2036     8851         24   No growth                    . |
8780. |  2036     9801         26   No growth                    . |
8781. |  2036    10832         28   No growth                    . |
8782. |  2036    11158         30   No growth                    . |
8783. |  2036    11514         32        MSSA     t1245          . |
8784. |  2036    11831         34        MSSA     t1245          . |
8785. |  2036    12207         36   No growth                    . |
8786. |  2036    12414         38   No growth                    . |
8787. |  2036    12679         40   No growth                    . |
8788. |  2036    12941         42   No growth                    . |
8789. |  2036    13139         44        MSSA     t1541          . |
      +------------------------------------------------------------+

. noi list patid SwabID timepoint Result spatype if Result==""

      +----------------------------------------------+
      | patid   SwabID   timepo~t   Result   spatype |
      |----------------------------------------------|
2758. |   671    13823         68               t032 |
6013. |  1284    13618         54                    |
6171. |  1291    13466         48               t189 |
7437. |  1354    12835         40                    |
      +----------------------------------------------+

. by patid: egen missingmax=max(missing)
missing not found
r(111);

. 
. noi di "detail of those patids over time: "
detail of those patids over time: 

. 
. noi list patid SwabID timepoint Result spatype missingspa if missingmax==1, sepby(patid
> )
variable missingspa not found
r(111);

. drop if incorrect_result==1
(2 observations deleted)

. 
. drop incorrect*

. 
. gen missing ==1 if Result==""
== invalid name
r(198);

. 
. summ missing
variable missing not found
r(111);

. 
. noi di r(sum) " drop: missing Result"
. drop: missing Result

. 
. noi list patid SwabID timepoint Result spatype if Result==""

      +----------------------------------------------+
      | patid   SwabID   timepo~t   Result   spatype |
      |----------------------------------------------|
2758. |   671    13823         68               t032 |
6012. |  1284    13618         54                    |
6170. |  1291    13466         48               t189 |
7436. |  1354    12835         40                    |
      +----------------------------------------------+

. 
. by patid: egen missingmax=max(missing)
missing not found
r(111);

. 
. gen missing =1 if Result==""
(9,675 missing values generated)

. 
. summ missing

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     missing |          4           1           0          1          1

. 
. noi di r(sum) " drop: missing Result"
4 drop: missing Result

. 
. noi list patid SwabID timepoint Result spatype if Result==""

      +----------------------------------------------+
      | patid   SwabID   timepo~t   Result   spatype |
      |----------------------------------------------|
2758. |   671    13823         68               t032 |
6012. |  1284    13618         54                    |
6170. |  1291    13466         48               t189 |
7436. |  1354    12835         40                    |
      +----------------------------------------------+

. 
. by patid: egen missingmax=max(missing)
(9562 missing values generated)

. noi di "detail of those patids over time: "
detail of those patids over time: 

. 
. noi list patid SwabID timepoint Result spatype missingspa if missingmax==1, sepby(patid
> )
variable missingspa not found
r(111);

. noi di "detail of those patids over time: "
detail of those patids over time: 

. 
. noi list patid SwabID timepoint Result spatype missing if missingmax==1, sepby(patid)

      +-------------------------------------------------------------+
      | patid   SwabID   timepo~t      Result     spatype   missing |
      |-------------------------------------------------------------|
2730. |   671      640          0        MRSA        t032         . |
2731. |   671      735          1        MRSA        t032         . |
2732. |   671      902          2        MRSA        t032         . |
2733. |   671     1440          4        MRSA        t032         . |
2734. |   671     2163          6        MRSA        t032         . |
2735. |   671     2812          8        MRSA        t032         . |
2736. |   671     3414         10        MRSA        t032         . |
2737. |   671     3952         12        MRSA        t032         . |
2738. |   671     4552         14        MRSA        t032         . |
2739. |   671     5177         16        MRSA        t032         . |
2740. |   671     5790         18        MRSA        t032         . |
2741. |   671     6318         20        MRSA        t032         . |
2742. |   671     6964         22        MRSA        t032         . |
2743. |   671     7559         24        MRSA        t032         . |
2744. |   671     8077         26        MRSA        t032         . |
2745. |   671     8628         28        MRSA        t032         . |
2746. |   671     9279         30        MRSA        t032         . |
2747. |   671    10648         32        MRSA        t032         . |
2748. |   671    10999         34        MRSA        t032         . |
2749. |   671    11351         36        MRSA        t032         . |
2750. |   671    11638         36        MRSA        t032         . |
2751. |   671    11691         38        MRSA        t032         . |
2752. |   671    11953         40        MRSA        t032         . |
2753. |   671    12270         42        MRSA        t032         . |
2754. |   671    12550         44        MRSA        t032         . |
2755. |   671    12798         46        MRSA        t032         . |
2756. |   671    13008         48        MRSA        t032         . |
2757. |   671    13698         64        MRSA        t032         . |
2758. |   671    13823         68                    t032         1 |
2759. |   671    13856         70        MSSA        t032         . |
2760. |   671    13907         72        MRSA        t032         . |
2761. |   671    13964         74        MRSA        t032         . |
2762. |   671    14015         76        MRSA        t032         . |
      |-------------------------------------------------------------|
5985. |  1284     1923          0   No growth                     . |
5986. |  1284     2151          1   No growth                     . |
5987. |  1284     2654          2   No growth                     . |
5988. |  1284     3257          4   No growth                     . |
5989. |  1284     3838          6   No growth                     . |
5990. |  1284     4397          8   No growth                     . |
5991. |  1284     4992         10   No growth                     . |
5992. |  1284     5605         12   No growth                     . |
5993. |  1284     6217         14   No growth                     . |
5994. |  1284     6784         16   No growth                     . |
5995. |  1284     7376         18   No growth                     . |
5996. |  1284     7969         20   No growth                     . |
5997. |  1284     8482         22   No growth                     . |
5998. |  1284     8973         24   No growth                     . |
5999. |  1284    10922         26   No growth                     . |
6000. |  1284    10210         26   No growth                     . |
6001. |  1284    10901         28   No growth                     . |
6002. |  1284    11184         30   No growth                     . |
6003. |  1284    11568         32   No growth                     . |
6004. |  1284    11884         34   No growth                     . |
6005. |  1284    12160         36   No growth                     . |
6006. |  1284    12469         38   No growth                     . |
6007. |  1284    12743         40   No growth                     . |
6008. |  1284    12967         42   No growth                     . |
6009. |  1284    13168         44   No growth                     . |
6010. |  1284    13351         46   No growth                     . |
6011. |  1284    13474         48   No growth                     . |
6012. |  1284    13618         54                                 1 |
6013. |  1284    13775         58   No growth                     . |
6014. |  1284    13893         60   No growth                     . |
6015. |  1284    13944         62   No growth                     . |
6016. |  1284    14000         64   No growth                     . |
6017. |  1284    14053         66   No growth                     . |
6018. |  1284    14106         68   No growth                     . |
6019. |  1284    14159         70   No growth                     . |
6020. |  1284    14211         72   No growth                     . |
6021. |  1284    14284         74   No growth                     . |
6022. |  1284    14336         76   No growth                     . |
      |-------------------------------------------------------------|
6145. |  1291     1945          0        MSSA        t005         . |
6146. |  1291     2260          1        MSSA        t005         . |
6147. |  1291     2728          2        MSSA        t005         . |
6148. |  1291     3298          4        MSSA        t005         . |
6149. |  1291     3878          6        MSSA        t005         . |
6150. |  1291     4439          8        MSSA        t005         . |
6151. |  1291     5031         10        MSSA        t005         . |
6152. |  1291     5651         12        MSSA        t005         . |
6153. |  1291     6280         14        MSSA        t005         . |
6154. |  1291     6838         16        MSSA        t005         . |
6155. |  1291     7424         18        MSSA        t005         . |
6156. |  1291     8008         20        MSSA        t005         . |
6157. |  1291     8527         22        MSSA        t005         . |
6158. |  1291     9004         24        MSSA        t005         . |
6159. |  1291    10310         26        MSSA        t005         . |
6160. |  1291    10932         28   No growth                     . |
6161. |  1291    11236         30   No growth                     . |
6162. |  1291    11596         32   No growth                     . |
6163. |  1291    11905         34        MSSA        t189         . |
6164. |  1291    12188         36        MSSA        t189         . |
6165. |  1291    12486         38        MSSA        t189         . |
6166. |  1291    12765         40        MSSA        t189         . |
6167. |  1291    12979         42        MSSA        t189         . |
6168. |  1291    13174         44        MSSA        t189         . |
6169. |  1291    13334         46        MSSA        t012         . |
6170. |  1291    13466         48                    t189         1 |
      |-------------------------------------------------------------|
7418. |  1354     2532          0        MSSA   t630/t530         . |
7419. |  1354     2697          1        MSSA   t084/t530         . |
7420. |  1354     2910          2        MSSA   t084/t530         . |
7421. |  1354     4047          6        MSSA        t530         . |
7422. |  1354     4654          8        MSSA        t530         . |
7423. |  1354     5252         10        MSSA        t530         . |
7424. |  1354     5819         12        MSSA        t530         . |
7425. |  1354     6419         14        MSSA        t530         . |
7426. |  1354     7057         16        MSSA        t530         . |
7427. |  1354     7587         18        MSSA        t530         . |
7428. |  1354     9536         24        MSSA        t530         . |
7429. |  1354    10657         26        MSSA        t530         . |
7430. |  1354    11037         28        MSSA        t530         . |
7431. |  1354    11414         30        MSSA        t530         . |
7432. |  1354    11698         32        MSSA        t530         . |
7433. |  1354    12009         34        MSSA        t530         . |
7434. |  1354    12313         36        MSSA       t2842         . |
7435. |  1354    12598         38        MSSA        t084         . |
7436. |  1354    12835         40                                 1 |
7437. |  1354    13040         42        MSSA        t530         . |
      +-------------------------------------------------------------+

. drop if missing==1
(4 observations deleted)

. 
. drop missing*

. 
. ****************************************************************************

. 
. *  5 : problem of in accurate timepoint/ duplicate swabs

. 
. ****************************************************************************

. 
. noi di _n(5) _dup(80) "=" _n "(6) SORT MULTIPLE BEST DATES" _n _dup(80) "=" 





================================================================================
(6) SORT MULTIPLE BEST DATES
================================================================================

. 
. * look at spread of results

. 
. by patid: gen days_since_first=BestDate-BestDate[1]

. 
.  
. 
. gen accuracy = abs(days/(30.44) -timepoint )

. 
. 
. 
. noi di "accuracy of timeperiod"
accuracy of timeperiod

. 
. noi summ accuracy

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
    accuracy |      9,675    .2851847    .5479268          0   12.09987

. 
. 
. 
. 
. 
. 
. 
. duplicates tag patid BestDate, gen (multiple)

Duplicates in terms of patid BestDate

. 
. noi summ multiple if multiple!=0

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
    multiple |          8           1           0          1          1

. 
. noi di r(N) " duplicated swabs" 
8 duplicated swabs

. 
. noi list patid timepoint Sent DateTaken Received BestDate accuracy spatype if multiple!
> =0, sepby(patid)

      +-----------------------------------------------------------------------------+
  10. | patid | timepo~t |      Sent | DateTaken |  Received |  BestDate | accuracy |
      |     4 |        1 | 29jan2009 | 04apr2009 | 08apr2009 | 04apr2009 | 1.890933 |
      |-----------------------------------------------------------------------------|
      |                                      spatype                                |
      |                                         t005                                |
      +-----------------------------------------------------------------------------+

      +-----------------------------------------------------------------------------+
  11. | patid | timepo~t |      Sent | DateTaken |  Received |  BestDate | accuracy |
      |     4 |        2 | 26feb2009 | 04apr2009 | 08apr2009 | 04apr2009 |  .890933 |
      |-----------------------------------------------------------------------------|
      |                                      spatype                                |
      |                                         t005                                |
      +-----------------------------------------------------------------------------+

      +-----------------------------------------------------------------------------+
1678. | patid | timepo~t |      Sent | DateTaken |  Received |  BestDate | accuracy |
      |   384 |        1 | 30apr2009 | 01jun2009 | 08jun2009 | 01jun2009 | .8396846 |
      |-----------------------------------------------------------------------------|
      |                                      spatype                                |
      |                                        t4714                                |
      +-----------------------------------------------------------------------------+

      +-----------------------------------------------------------------------------+
1679. | patid | timepo~t |      Sent | DateTaken |  Received |  BestDate | accuracy |
      |   384 |        2 | 28may2009 | 01jun2009 | 08jun2009 | 01jun2009 | .1603154 |
      |-----------------------------------------------------------------------------|
      |                                      spatype                                |
      |                                        t4714                                |
      +-----------------------------------------------------------------------------+

      +-----------------------------------------------------------------------------+
2318. | patid | timepo~t |      Sent | DateTaken |  Received |  BestDate | accuracy |
      |   479 |       14 | 28jul2010 | 11oct2010 | 18oct2010 | 11oct2010 |  2.09724 |
      |-----------------------------------------------------------------------------|
      |                                      spatype                                |
      |                                         t710                                |
      +-----------------------------------------------------------------------------+

      +-----------------------------------------------------------------------------+
2319. | patid | timepo~t |      Sent | DateTaken |  Received |  BestDate | accuracy |
      |   479 |       16 | 22sep2010 | 11oct2010 | 18oct2010 | 11oct2010 | .0972405 |
      |-----------------------------------------------------------------------------|
      |                                      spatype                                |
      |                                         t710                                |
      +-----------------------------------------------------------------------------+

      +-----------------------------------------------------------------------------+
3272. | patid | timepo~t |      Sent | DateTaken |  Received |  BestDate | accuracy |
      |   926 |        4 | 12nov2009 | 13jan2010 | 19jan2010 | 13jan2010 | 1.978975 |
      |-----------------------------------------------------------------------------|
      |                                      spatype                                |
      |                                    t127/t196                                |
      +-----------------------------------------------------------------------------+

      +-----------------------------------------------------------------------------+
3273. | patid | timepo~t |      Sent | DateTaken |  Received |  BestDate | accuracy |
      |   926 |        6 | 08jan2010 | 13jan2010 | 19jan2010 | 13jan2010 |  .021025 |
      |-----------------------------------------------------------------------------|
      |                                      spatype                                |
      |                               t008/t127/t196                                |
      +-----------------------------------------------------------------------------+

. bysort patid: gen first=(_n==1)

. 
. summ first

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
       first |      9,675    .0564341      .23077          0          1

. 
. noi di  " - leaving " _N " records from " r(sum) " paticipants" 
 - leaving 9675 records from 546 paticipants

. 
. drop flag first 
variable flag not found
r(111);

. drop first

. tab Result, m

                      Result |      Freq.     Percent        Cum.
-----------------------------+-----------------------------------
                        MRSA |        127        1.31        1.31
                        MSSA |      4,626       47.81       49.13
                   No growth |      4,922       50.87      100.00
-----------------------------+-----------------------------------
                       Total |      9,675      100.00

. assert spatype!="" iff Result!="No growth"
invalid 'iff' 
r(198);

. help iff

